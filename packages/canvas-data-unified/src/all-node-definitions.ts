import {
  BAREBONE_LOOP_NODE_DEFINITION,
  BAREBONE_LOOP_NODE_FUNCTIONS,
  BING_SEARCH_API_NODE_DEFINITION,
  BING_SEARCH_API_NODE_FUNCTIONS,
  CHATGPT_CHAT_COMPLETION_NODE_DEFINITION,
  CHATGPT_CHAT_COMPLETION_NODE_FUNCTIONS,
  CONDITIONS_NODE_DEFINITION,
  CONDITIONS_NODE_FUNCTIONS,
  INPUT_NODE_DEFINITION,
  INPUT_NODE_FUNCTIONS,
  JSONATA_TRANSFORMS_NODE_DEFINITION,
  JSONATA_TRANSFORMS_NODE_FUNCTIONS,
  JSON_PARSE_NODE_DEFINITION,
  JSON_PARSE_NODE_FUNCTIONS,
  JSON_TO_STRING_NODE_DEFINITION,
  JSON_TO_STRING_NODE_FUNCTIONS,
  LLM_MESSAGES_NODE_DEFINITION,
  LLM_MESSAGES_NODE_FUNCTIONS,
  LOOP_BREAK_OR_CONTINUE_NODE_DEFINITION,
  LOOP_BREAK_OR_CONTINUE_NODE_FUNCTIONS,
  LOOP_START_NODE_DEFINITION,
  LOOP_START_NODE_FUNCTIONS,
  MUSTACHE_TEXT_TEMPLATES_NODE_DEFINITION,
  MUSTACHE_TEXT_TEMPLATES_NODE_FUNCTIONS,
  OLLAMA_CHAT_COMPLETION_NODE_DEFINITION,
  OLLAMA_CHAT_COMPLETION_NODE_FUNCTIONS,
  OUTPUT_NODE_DEFINITION,
  OUTPUT_NODE_FUNCTIONS,
} from 'canvas-data-node-definitions';

// prettier-ignore
export const NODE_DEFINITIONS = {
  [INPUT_NODE_DEFINITION.type]: INPUT_NODE_DEFINITION,
  [OUTPUT_NODE_DEFINITION.type]: OUTPUT_NODE_DEFINITION,
  [LLM_MESSAGES_NODE_DEFINITION.type]: LLM_MESSAGES_NODE_DEFINITION,
  [CHATGPT_CHAT_COMPLETION_NODE_DEFINITION.type]: CHATGPT_CHAT_COMPLETION_NODE_DEFINITION,
  [OLLAMA_CHAT_COMPLETION_NODE_DEFINITION.type]: OLLAMA_CHAT_COMPLETION_NODE_DEFINITION,
  [BING_SEARCH_API_NODE_DEFINITION.type]: BING_SEARCH_API_NODE_DEFINITION,
  [MUSTACHE_TEXT_TEMPLATES_NODE_DEFINITION.type]: MUSTACHE_TEXT_TEMPLATES_NODE_DEFINITION,
  [JSON_PARSE_NODE_DEFINITION.type]: JSON_PARSE_NODE_DEFINITION,
  [JSON_TO_STRING_NODE_DEFINITION.type]: JSON_TO_STRING_NODE_DEFINITION,
  [JSONATA_TRANSFORMS_NODE_DEFINITION.type]: JSONATA_TRANSFORMS_NODE_DEFINITION,
  [CONDITIONS_NODE_DEFINITION.type]: CONDITIONS_NODE_DEFINITION,
  [BAREBONE_LOOP_NODE_DEFINITION.type]: BAREBONE_LOOP_NODE_DEFINITION,
  [LOOP_START_NODE_DEFINITION.type]: LOOP_START_NODE_DEFINITION,
  [LOOP_BREAK_OR_CONTINUE_NODE_DEFINITION.type]: LOOP_BREAK_OR_CONTINUE_NODE_DEFINITION,
} as const;

export type NodeType = keyof typeof NODE_DEFINITIONS;

export const NODE_TYPES: NodeType[] = [
  INPUT_NODE_DEFINITION.type,
  OUTPUT_NODE_DEFINITION.type,
  LLM_MESSAGES_NODE_DEFINITION.type,
  CHATGPT_CHAT_COMPLETION_NODE_DEFINITION.type,
  OLLAMA_CHAT_COMPLETION_NODE_DEFINITION.type,
  BING_SEARCH_API_NODE_DEFINITION.type,
  MUSTACHE_TEXT_TEMPLATES_NODE_DEFINITION.type,
  JSON_PARSE_NODE_DEFINITION.type,
  JSON_TO_STRING_NODE_DEFINITION.type,
  JSONATA_TRANSFORMS_NODE_DEFINITION.type,
  CONDITIONS_NODE_DEFINITION.type,
  BAREBONE_LOOP_NODE_DEFINITION.type,
  LOOP_START_NODE_DEFINITION.type,
  LOOP_BREAK_OR_CONTINUE_NODE_DEFINITION.type,
];

// prettier-ignore
export const NODE_FUNCTIONS = {
  [INPUT_NODE_DEFINITION.type]: INPUT_NODE_FUNCTIONS,
  [OUTPUT_NODE_DEFINITION.type]: OUTPUT_NODE_FUNCTIONS,
  [LLM_MESSAGES_NODE_DEFINITION.type]: LLM_MESSAGES_NODE_FUNCTIONS,
  [CHATGPT_CHAT_COMPLETION_NODE_DEFINITION.type]: CHATGPT_CHAT_COMPLETION_NODE_FUNCTIONS,
  [OLLAMA_CHAT_COMPLETION_NODE_DEFINITION.type]: OLLAMA_CHAT_COMPLETION_NODE_FUNCTIONS,
  [BING_SEARCH_API_NODE_DEFINITION.type]: BING_SEARCH_API_NODE_FUNCTIONS,
  [MUSTACHE_TEXT_TEMPLATES_NODE_DEFINITION.type]: MUSTACHE_TEXT_TEMPLATES_NODE_FUNCTIONS,
  [JSON_PARSE_NODE_DEFINITION.type]: JSON_PARSE_NODE_FUNCTIONS,
  [JSON_TO_STRING_NODE_DEFINITION.type]: JSON_TO_STRING_NODE_FUNCTIONS,
  [JSONATA_TRANSFORMS_NODE_DEFINITION.type]: JSONATA_TRANSFORMS_NODE_FUNCTIONS,
  [CONDITIONS_NODE_DEFINITION.type]: CONDITIONS_NODE_FUNCTIONS,
  [BAREBONE_LOOP_NODE_DEFINITION.type]: BAREBONE_LOOP_NODE_FUNCTIONS,
  [LOOP_START_NODE_DEFINITION.type]: LOOP_START_NODE_FUNCTIONS,
  [LOOP_BREAK_OR_CONTINUE_NODE_DEFINITION.type]: LOOP_BREAK_OR_CONTINUE_NODE_FUNCTIONS,
} as const;
